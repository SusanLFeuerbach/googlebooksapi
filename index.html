<!DOCTYPE html>
<html lang="en ">

    <head>
        <meta charset="utf-8">
        <title>CAS265 Google Books API Practice</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
       
    </head>

    <body>
        <br>
         <br>
        <form action="index.html" method="get">
            Search by ISBN (ISBN-10 or ISBN-13)
            <input type="text" name="isbn">
            <button type="submit">Search for book</button>
            <br>
            <br>
        
        </form>
        
        <a href="index.html?isbn=0307575853">Interview with the Vampire</a>
        <br>
        <a href="index.html?isbn=0345803655">Prince Lestat</a>
        <br>
        <a href="index.html?isbn=0345313860">The Vampire Lestat</a>
        <br>
        <a href="index.html?isbn=0385353790">Prince Lestat and the Realms of Atlantis</a>
        
    <h1></h1>
      <img src="" id="bookThumb">  
        <p></p>
     Author:<span id="authorName"></span> 
        <p></p>
        Description: <p id="bookDescription"></p>
        Page Count: <span id="pageCount"></span>
        <p></p>
        Catagories: <span id="bookCatagories"></span>
        <p></p>
        Published: <span id="publishDate"></span>
        <p></p>
        Text Snippet: <span id="textAnneRice"></span>
        <p></p>
<!--        Price: <span id="bookPrice"></span>-->
        <p></p>
        Publisher: <span id="publisher"></span>
        <p></p>
        <p>Buy Link:<span id="buyLink"></span></p>
        <p></p>
        Price: <span id="bookPrice"></span>
     
        
    <script>
        var xhr = new XMLHttpRequest();
        //0307575853
        var queryString = document.URL.substring( document.URL.indexOf('=') + 1 );
        xhr.open("GET", "https://www.googleapis.com/books/v1/volumes?q=isbn:" + queryString, false);
        xhr.send();
        console.log(xhr.status); // if this returns 200, then you are in like Flynn
        var bookObject = JSON.parse(xhr.responseText);
        console.log(bookObject);
        
        $("title").text(bookObject.items[0].volumeInfo.title);
        $("h1").text(bookObject.items[0].volumeInfo.title);
        $("#authorName").text(bookObject.items[0].volumeInfo.authors[0]);
        $("#bookDescription").text(bookObject.items[0].volumeInfo.description);
        $("#pageCount").text(bookObject.items[0].volumeInfo.pageCount);
        $("#bookThumb").attr("src",bookObject.items[0].volumeInfo.imageLinks.thumbnail);
        $("#bookCatagories").text(bookObject.items[0].volumeInfo.categories[0]);
        $("#publishDate").text(bookObject.items[0].volumeInfo.publishedDate);
        $("#textAnneRice").text(bookObject.items[0].searchInfo.textSnippet);           
        $("#publisher").text(bookObject.items[0].volumeInfo.publisher);
        $("#buyLink").text(bookObject.items[0].saleInfo.buyLink);
        $("#bookPrice").text(bookObject.items[0].saleInfo.listPrice.amount); 
                        
                            
        
    </script>

        
        
    </body>

</html>






